<!DOCTYPE html>
<html lang="en">
    <head>
        <base href="{{@SCHEME.'://'.@HOST.@BASE.'/'}}"/>
        <!-- Meta, title, CSS, favicons, etc. -->
        <meta charset="utf-8">
        <title>
            Claims | Sign Up
        </title>
        <meta charset="{{@$ENCODING}}">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <!-- Favicon -->
        <link rel="shortcut icon" href="app/ui/assets/img/favicon.ico">

        <!-- Font CSS (Via CDN) -->
        <link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700'>

        <!-- Theme CSS -->
        <link rel="stylesheet" type="text/css" href="app/ui/assets/skin/default_skin/css/theme.css">

        <!-- Admin Forms CSS -->
        <link rel="stylesheet" type="text/css" href="app/ui/assets/admin-tools/admin-forms/css/admin-forms.css">

        <!-- Favicon -->
        <link rel="shortcut icon" href="app/ui/assets/img/favicon.ico">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>
    <body class="external-page external-alt sb-l-c sb-r-c">
        <!-- Start: Main -->
        <div id="main" class="animated fadeIn">

            <!-- Start: Content-Wrapper -->
            <section id="content_wrapper">

                <!-- Begin: Content -->
                <section id="content">

                    <div class="admin-form theme-primary mw600" style="margin-top: 3%;" id="register">

                        <!-- Registration Logo -->
                        <div class="row table-layout">
                            <a href="/" title="Return to Dashboard">
                                <img src="app/ui/assets/img/logos/logo.png" title="AdminDesigns Logo" class="center-block img-responsive" style="max-width: 275px;">
                            </a>
                        </div>
                        <div id="notification" class="alert alert-danger alert-dismissable hidden">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">
                                Ã—
                            </button>
                            <i class="fa fa-remove pr10">
                            </i>
                            <strong>
                                Error!
                            </strong>
                            <b id="error">
                            </b>
                        </div>
                        <F3:repeat group="{{ \Flash::instance()->getMessages() }}" value="{{ @msg }}">
                            <div class="alert alert-{{ @msg.status }} alert-dismissable">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">
                                    &times;
                                </button>
                                {{ @msg.text | esc }}
                            </div>
                        </F3:repeat>
                        <!-- Registration Panel/Form -->
                        <div class="panel mt40">

                            <form method="post" action="{{@SCHEME.'://'.@HOST.@BASE.'/auth/register'}}" id="frm_sign_up" onsubmit="return signupvalidation();">
                                <div class="panel-body bg-light p25 pb15">
                                    <div class="section">
                                        <select name="user_type" class="form-control" id="category">
                                            <option value="">
                                                --Select User Type --
                                            </option>
                                            <option value="1">
                                                Applier
                                            </option>
                                            <option value="3">
                                                Insurance Company
                                            </option>
                                        </select>
                                    </div>
                                    <div class="section">
                                        <div class="smart-widget sm-right smr-120">
                                            <label for="username" class="field prepend-icon">
                                                <input type="text" name="username" id="username" class="gui-input" placeholder="Choose your username/company name" title="use one name">
                                                <label for="username" class="field-icon">
                                                    <i class="fa fa-user">
                                                    </i>
                                                </label>
                                            </label>
                                            <label for="username" class="button">
                                                .{{@HOST}}
                                            </label>
                                        </div>
                                        <!-- end .smart-widget section -->
                                    </div>
                                    <!-- end section -->
                                    <div class="section">
                                        <label for="email" class="field prepend-icon">
                                            <input type="email" name="email" id="email" class="gui-input" placeholder="Email address">
                                            <label for="email" class="field-icon">
                                                <i class="fa fa-envelope">
                                                </i>
                                            </label>
                                        </label>
                                    </div>
                                    <!-- end section -->



                                    <hr class="alt short">

                                    <div class="section">
                                        <label for="password" class="field prepend-icon">
                                            <input type="password" name="password" id="password" class="gui-input" placeholder="Create a password">
                                            <label for="password" class="field-icon">
                                                <i class="fa fa-unlock-alt">
                                                </i>
                                            </label>
                                        </label>
                                    </div>
                                    <!-- end section -->

                                    <div class="section">
                                        <label for="confirmPassword" class="field prepend-icon">
                                            <input type="password" name="confirmPassword" id="confirmPassword" class="gui-input" placeholder="Retype your password">
                                            <label for="confirmPassword" class="field-icon">
                                                <i class="fa fa-lock">
                                                </i>
                                            </label>
                                        </label>
                                    </div>
                                    <!-- end section -->


                                </div>

                                <div class="panel-footer clearfix">
                                    <div style="float: right;">
                                        <input type="submit" value="Register" class="button btn-primary mr10 pull-right" name="btn_sign_up" />
                                    </div>

                                    <div style="float: left;">
                                        <label class="option block mt10">
                                            <input type="checkbox" name="terms" id="agree" required>
                                            <span class="checkbox">
                                            </span>I agree to the
                                            <a href="#" class="theme-link">
                                                terms of use.
                                            </a>
                                        </label>

                                        <label class="switch block switch-primary mt10 ">
                                            <input type="checkbox" name="remember" id="remember" checked>
                                            <label for="remember" data-on="YES" data-off="NO">
                                            </label>
                                            <span>
                                                Remember me
                                            </span>
                                        </label>
                                    </div>
                                </div>

                            </form>
                        </div>

                        <!--  Divider -->
                        <hr class="alt mt40 mb30 mh70">
                        <!-- Registration Links -->
                        <div class="login-links">
                            <p>
                                <a href="pages_forgotpw(alt).html" class="active hidden" title="Sign In">
                                    Forgot Password?
                                </a>
                            </p>
                            <p>
                                Already registered?
                                <a href="auth/login" class="active" title="Sign In">
                                    Sign in here
                                </a>
                            </p>
                        </div>


                    </div>

                </section>
                <!-- End: Content -->

            </section>
            <!-- End: Content-Wrapper -->

        </div>
        <!-- End: Main -->
        <!-- BEGIN: PAGE SCRIPTS -->

        <!-- jQuery -->
        <script src="app/ui/vendor/jquery/jquery-1.11.1.min.js">
        </script>
        <script src="app/ui/vendor/jquery/jquery_ui/jquery-ui.min.js">
        </script>

        <!-- Theme Javascript -->
        <script src="app/ui/assets/js/utility/utility.js">
        </script>
        <script src="app/ui/assets/js/demo/demo.js">
        </script>
        <script src="app/ui/assets/js/main.js">
        </script>

        <!-- Page Javascript -->
        <script type="text/javascript">
            jQuery(document).ready(function() {

                    "use strict";

                    // Init Theme Core
                    Core.init();

                    // Init Demo JS
                    Demo.init();

                });

        </script>

        <!-- END: PAGE SCRIPTS -->
        <!-- Validation Script-->
        <script>
            function signupvalidation() {
                var name = document.getElementById('username').value;
                var category = document.getElementById('category').value;
                var email = document.getElementById('email').value;
                var password = document.getElementById('password').value;
                var confirm_pasword = document.getElementById('confirmPassword').value;
                var emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{
                    |
                }~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
                var usernameRegex = /^[a-zA-Z\-]+$/;
                var ShowError = document.getElementById("notification").classList;

                var valid = true;

                if (name == "") {
                    valid = false;
                    ShowError.remove('hidden');
                    document.getElementById('error').innerHTML = "Username is required.";

                }
                else
                {
                    if(!usernameRegex.test(name)){
                        valid = false;
                        ShowError.remove('hidden');
                        document.getElementById('error').innerHTML = "Invalid Username use alphanumenrics only.";
                    }
                }

                if (email == "") {
                    valid = false;
                    ShowError.remove('hidden');
                    document.getElementById('error').innerHTML = "Email required.";
                } else {
                    if (!emailRegex.test(email)) {
                        valid = false;
                        ShowError.remove('hidden');
                        document.getElementById('error').innerHTML = "Invalid Email.";
                    }
                }

                if (password == "") {
                    valid = false;
                    ShowError.remove('hidden');
                    document.getElementById('error').innerHTML = "Password required.";
                }
                if (confirm_pasword == "") {
                    valid = false;
                    ShowError.remove('hidden');
                    document.getElementById('error').innerHTML = "Confirm Password required.";
                }

                if (password != confirm_pasword) {
                    valid = false;
                    ShowError.remove('hidden');
                    document.getElementById('error').innerHTML = "Both passwords must be same.";
                }

                return valid;
            }
        </script>

    </body>

</html>
